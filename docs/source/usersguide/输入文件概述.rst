.. _section_input_summary:

输入概述
===============

输入模块
------------

RMC的输入文件按照模块划分，各模块的名称及相应功能如下所示：

   -  **SURFACE**\ 模块：定义曲面类型和曲面方程。

   -  **UNIVERSE**\ 模块：描述某个完整的几何空间。RMC采用基于层级空间的几何描述，输入文件
      中可能存在多个UNIVERSE模块。

   -  **MATERIAL**\ 模块：定义材料组成。

   -  **CRITICALITY**\ 模块：定义临界计算参数，包括粒子数、初始源等。

   -  **TALLY**\ 模块：定义计数器，包括通量、功率、反应率等。

   -  **CONVERGENCE**\ 模块：定义源收敛诊断和加速参数。

   -  **BURNUP**\ 模块：定义燃耗计算参数，包括燃耗栅元、功率、时间步长等。

   -  **PRINT**\ 模块：定义输出内容。

   -  **PLOT**\ 模块：定义画图参数。

   -  **FIXEDSOURCE**\ 模块：定义固定源计算参数，主要包括需要模拟的初始源粒子数。

   -  **EXTERNALSOURCE**\ 模块：定义外源粒子的信息，包括粒子的类型、位置、飞行方向和能量分布等。

输入卡
----------

各个输入模块具有特定的输入卡：

.. table:: RMC输入卡总览表
  :name: keywords_table

  +------------+-------------+--------------------------------------------------+
  | 输入模块   | 输入卡      | 功能描述                                         |
  +============+===============+================================================+
  | Surface    | Surf          | 定义一个曲面。包括曲面类型，曲面方程参数，曲面 |
  |            |               | 边界条件，等。                                 |
  +------------+---------------+------------------------------------------------+
  | Universe   | Cell          | 定义空间内的某个栅元。包括填充材料，几何形状， |
  |            |               | 体积，温度，等                                 |
  +------------+---------------+------------------------------------------------+
  |            | Universe      | 定义某个完整的几何空间(坐标变换，重复网格等)   |
  +------------+---------------+------------------------------------------------+
  | Material   | Mat           | 定义一种材料。包括材料密度，核素组成，等。     |
  +------------+---------------+------------------------------------------------+
  |            | Sab           | 指定某种材料所使用的热化截面库。               |
  +------------+---------------+------------------------------------------------+
  |            | CeAce         | 指定与连续能量ACE截面相关的输入参数。          |
  +------------+---------------+------------------------------------------------+
  |            | MgAce         | 指定与多群ACE截面相关的输入参数。              |
  +------------+---------------+------------------------------------------------+
  | Criticality| PowerIter     | 指定源迭代的初始keff和粒子数。                 |
  +------------+---------------+------------------------------------------------+
  |            | InitSrc       | 指定源迭代计算的初始裂变源分布。               |
  +------------+---------------+------------------------------------------------+
  |            | RNG           | 指定随机数发生器的类型和参数。                 |
  +------------+---------------+------------------------------------------------+
  |            | ParallelBank  | 指定并行临界计算裂变源中子库的处理模式。       |
  +------------+---------------+------------------------------------------------+
  | Tally      | CellTally     | 定义栅元计数器。统计某个或多个栅元内的积分通   |
  |            |               | 量、功率、吸收反应率或裂变反应率。             |
  +------------+---------------+------------------------------------------------+
  |            | MeshTally     | 定义网格计数器。按照预先定义的网格，统计每个网 |
  |            |               | 格内的积分通量、功率、吸收反应率或裂变反应率。 |
  +------------+---------------+------------------------------------------------+
  |            | CsTally       | 定义截面计数器。指定某个或多个反应类型，统计某 |
  |            |               | 个栅元内所有核素的反应截面。                   |
  +------------+---------------+------------------------------------------------+
  |            | AcceTally     | 指定是否使用计数器加速功能。                   |
  +------------+---------------+------------------------------------------------+
  | Convergence| SeMesh        | 定义香农熵网格。                               |
  +------------+---------------+------------------------------------------------+
  |            | FmMesh        | 定义裂变矩阵网格。                             |
  +------------+---------------+------------------------------------------------+
  |            | AcceFsc       | 指定源收敛加速方法和相关参数。                 |
  +------------+---------------+------------------------------------------------+
  | Burnup     | BurnCell      | 指定燃耗区。                                   |
  +------------+---------------+------------------------------------------------+
  |            | Power         | 指定总功率。                                   |
  +------------+---------------+------------------------------------------------+
  |            | PowerDen      | 指定总功率密度。                               |
  +------------+---------------+------------------------------------------------+
  |            | TimeStep      | 指定时间步长。                                 |
  +------------+---------------+------------------------------------------------+
  |            | BurnupStep    | 指定燃耗深度步长。                             |
  +------------+---------------+------------------------------------------------+
  |            | SubStep       | 指定内燃耗步长。                               |
  +------------+---------------+------------------------------------------------+
  |            | Inherent      | 指定重要核素继承份额。                         |
  +------------+---------------+------------------------------------------------+
  |            | AceLib        | 指定重要核素所匹配的ACE截面数据库。            |
  +------------+---------------+------------------------------------------------+
  |            | Strategy      | 指定是否使用预估-校正的燃耗步策略。            |
  +------------+---------------+------------------------------------------------+
  |            | Solver        | 指定燃耗方程求解方法。                         |
  +------------+---------------+------------------------------------------------+
  |            | Parallel      | 指定是否使用并行燃耗计算。                     |
  +------------+---------------+------------------------------------------------+
  |            | OutputCell    | 指定需要输出核素密度的栅元。                   |
  +------------+---------------+------------------------------------------------+
  |            | Varymat       | 指定在特定燃耗步变更材料信息。                 |
  +------------+---------------+------------------------------------------------+
  |            | Xeequilibrium | 定义平衡氙功能。                               |
  +------------+---------------+------------------------------------------------+
  |            | Succession    | 定义燃耗接续计算功能。                         |
  +------------+---------------+------------------------------------------------+
  |            | Naecf         | 定义燃耗区中子平均能量。                       |
  +------------+---------------+------------------------------------------------+
  |            | Impnuc        | 定义强制筛选进入临界计算的核素。               |
  +------------+---------------+------------------------------------------------+
  |            | FixedNuc      | 定义筛选进入临界计算的核素数目。               |
  +------------+---------------+------------------------------------------------+
  | Print      | Mat           | 指定是否输出所有材料信息。                     |
  +------------+---------------+------------------------------------------------+
  |            | Keff          | 指定是否输出每代的有效增殖因子。               |
  +------------+---------------+------------------------------------------------+
  |            | Source        | 指定是否输出每次的裂变源信息。                 |
  +------------+---------------+------------------------------------------------+
  |            | CellTally     | 指定是否输出栅元计数器。                       |
  +------------+---------------+------------------------------------------------+
  |            | MeshTally     | 指定是否输出网格计数器。                       |
  +------------+---------------+------------------------------------------------+
  |            | CsTally       | 指定是否输出截面计数器。                       |
  +------------+---------------+------------------------------------------------+
  | Plot       | ColorScheme   | 指定画图颜色方案                               |
  +------------+---------------+------------------------------------------------+
  |            | PlotID        | 指定参数                                       |
  +------------+---------------+------------------------------------------------+

输入格式
------------

RMC输入文件的格式应注意以下几点：

1. 每个模块以相应的关键词标识，模块之间以空行隔开。形如：

    .. code-block:: none

      Universe 0

      ……

      Universe 1

      ……

      Surface

      ……

      Material

      ……

      Criticality

      ……


2. 输入卡顶格写，输入卡中的选项卡以空格间隔。如果输入卡一行未写完，可换行后空
   格续写。例如：

     .. code-block:: none

       CellTally 2 type = 1 filter = 1 0 1 energy = 0 6.25E-7 20.0
                   cell = 2 > 0 > 1:289


3. 注释符使用“//”（C++风格）。

4. RMC输入文件不区分大小写。

5. 在windows下，不建议使用txt格式的文本文件作为输入文件。建议使用UltraEdit转换
   为Dos格式。

